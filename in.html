<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro con Medidor de Contrase√±a</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input { display: block; width: 100%; margin: 10px 0; padding: 8px; }

    /* Contenedor de la barra */
    .progress {
      width: 100%;
      height: 12px;
      background: #eee;
      border-radius: 6px;
      overflow: hidden;
      margin-top: 5px;
    }

    /* Barra que cambia */
    .progress-bar {
      height: 100%;
      width: 0%;          /* inicia vac√≠a */
      background: red;
      transition: width 0.3s ease, background 0.3s ease;
    }

    .strength-text {
      font-size: 14px;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h2>Registro de Usuario</h2>
  <form id="registroForm">
    <label>Contrase√±a:</label>
    <input type="password" id="password" placeholder="Escribe tu contrase√±a">
    <label><input type="checkbox" id="togglePassword"> Mostrar contrase√±a</label>

    <!-- Barra de progreso -->
    <div class="progress">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="strength-text" id="strengthText">Fortaleza: D√©bil</div>

    <button type="submit">Registrarse</button>
  </form>

  <script>
    const passwordInput = document.getElementById("password");
    const togglePassword = document.getElementById("togglePassword");
    const progressBar = document.getElementById("progressBar");
    const strengthText = document.getElementById("strengthText");

    // Mostrar / ocultar contrase√±a
    togglePassword.addEventListener("change", () => {
      passwordInput.type = togglePassword.checked ? "text" : "password";
    });

    // Validaci√≥n en tiempo real
    passwordInput.addEventListener("input", () => {
      const password = passwordInput.value;
      let strength = 0;

      // Reglas
      if (password.length >= 8) strength++;
      if (/\d/.test(password)) strength++;
      if (/[!@#$%^&*]/.test(password)) strength++;
      if (/[A-Z]/.test(password)) strength++;

      // Ajustar barra seg√∫n fuerza
      if (strength === 0) {
        progressBar.style.width = "0%";
        progressBar.style.background = "red";
        strengthText.textContent = "Fortaleza: D√©bil ‚ùå";
      }
      if (strength === 1) {
        progressBar.style.width = "25%";
        progressBar.style.background = "red";
        strengthText.textContent = "Fortaleza: D√©bil ‚ùå";
      }
      if (strength === 2) {
        progressBar.style.width = "50%";
        progressBar.style.background = "orange";
        strengthText.textContent = "Fortaleza: Media ‚ö†Ô∏è";
      }
      if (strength === 3) {
        progressBar.style.width = "75%";
        progressBar.style.background = "blue";
        strengthText.textContent = "Fortaleza: Buena üëç";
      }
      if (strength === 4) {
        progressBar.style.width = "100%";
        progressBar.style.background = "green";
        strengthText.textContent = "Fortaleza: Excelente üîí";
      }
    });

    // Validar al enviar
    document.getElementById("registroForm").addEventListener("submit", (event) => {
      event.preventDefault();
      const password = passwordInput.value;

      const isValid =
        password.length >= 8 &&
        /\d/.test(password) &&
        /[!@#$%^&*]/.test(password) &&
        /[A-Z]/.test(password);

      if (!isValid) {
        alert("‚ö†Ô∏è La contrase√±a debe tener m√≠nimo 8 caracteres, al menos un n√∫mero, un car√°cter especial y una may√∫scula.");
      } else {
        alert("‚úÖ Registro exitoso");
        event.target.reset();
        progressBar.style.width = "0%";
        strengthText.textContent = "Fortaleza: D√©bil";
      }
    });
  </script>
</body>
</html>
